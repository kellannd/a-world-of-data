<!DOCTYPE html>
<html>

<head>
    <title>D3 Project Starter Template</title>
    <meta charset="UTF-8">
    <link rel="icon" href="data:;base64,iVBORwOKGO=" />
    <link rel="stylesheet" href="css/style.css">
</head>

<body style="height: fit-content">

    <div>
        <div style="text-align: center; padding-top: 25px">
            <button id="scatterplot-btn" onclick="graphView('scatterplot')" class="active-btn">Scatterplot</button>
            <button id="histogram-btn" onclick="graphView('histogram')">Histogram</button>
            <button id="choropleth-btn" onclick="graphView('choropleth')">Choropleth</button>
            <button id="line-btn" onclick="graphView('line')">Line Graph</button>
                <label for="year-dropdown" style="font-size: 20px; margin-left: 20px">Select a Year: </label>
            <select id="year-dropdown" class="year-drowpdown" style="padding: 10px 20px 10px 20px; width: 125px; font-size: 20px; border-radius: 10px"></select>

        </div>
    </div>

    <div>
        <div id="choroplethView" class="graph-view" style="visibility: hidden; padding-top: 40px">
            <!-- <label for="year-dropdown-histogram">Select a Year: </label>
                <select id="year-dropdown-choropleth" style="padding: 16px; width: 100px; font-size: 20px;"
                    class="year-drowpdown">

                </select> -->
            <div style="display: grid; grid-template-columns: auto auto;">
                <div>
                <svg id="choroplethHri"></svg>
            </div>

            <div>
                <svg id="choroplethSr"></svg>
            </div>
            </div>
        </div>
        <div id="histogramView" class="graph-view" style="visibility: hidden; padding-top: 40px">
            <!-- <div>
                <label style="font-size: 24px;" for="year-dropdown-histogram">Select a Year: </label>
                <select id="year-dropdown-histogram" style="padding: 16px; width: 100px; font-size: 20px;"
                    class="year-drowpdown">

                </select>
            </div> -->

            <div>
                <div style="display: grid; grid-template-columns: auto auto;">
                <div>
                <svg id="histogramHri"></svg>
            </div>

            <div>
                <svg id="histogramSr"></svg>
            </div>
            </div>
            </div>
        </div>

        <div id="lineView" class="graph-view" style="visibility: hidden; padding-top: 40px">
            <div>
                <p style="padding-bottom: 10px; font-size: 20px"><b>Human Rights Index and Suicide Rate from 2000-2021</b></p>
            </div>

            <div>
                <svg id="line-graph-legend"></svg>
            </div>
            <div style="display: grid; grid-template-columns: auto auto auto;">
                <div><svg id="lineHri"></svg></div>
            <div><svg id="lineSr"></svg></div>
            <div>
                <div><p style="font-size: 16px; padding-bottom: 10px; width: 200px"><b>Select Countries to Display:</b></p></div>
                <div id="scrollbox" class="scrollbox">

            </div>
            </div>
            </div>
        </div>

        <div id="scatterplotView" class="graph-view" style="visibility: visible; text-align: center; height:550px; margin-top: -10px">
            <!-- <div>
                <select id="year-dropdown-scatterplot" style="padding: 16px; width: 100px" class="year-dropdown">

                </select>
            </div> -->

            <div style="margin-top: 25px; margin-bottom: 100px;">
                <svg id="scatterplot"></svg>
            </div>
        </div>
    </div>

    <div id="tooltip"></div>

    <!-- D3 bundle -->
    <script src="js/d3.v6.min.js"></script>

    <!-- Our JS code - INCLUDING the new files-->
    <script src="js/line.js"></script>
    <script src="js/scatterplot.js"></script>
    <script src="js/histogram.js"></script>
    <script src="js/choropleth.js"></script>
    <script src="js/main.js"></script>


</body>

</html>

<script>
    function graphView(page) {
        let histogramShow = document.getElementById("histogramView");
        let lineShow = document.getElementById("lineView")
        let scatterplotShow = document.getElementById("scatterplotView")
        let choroplethShow = document.getElementById("choroplethView")

        let element = document.getElementById(page +"-btn")

        if (page === "histogram") {
            if (histogramShow.style.visibility === "hidden") {
                histogramShow.style.visibility = "visible"

                lineShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "hidden"
                choroplethShow.style.visibility = "hidden"

                document.getElementById("histogram-btn").classList.add("active-btn")
                document.getElementById("line-btn").classList.remove("active-btn")
                document.getElementById("scatterplot-btn").classList.remove("active-btn")
                document.getElementById("choropleth-btn").classList.remove("active-btn")

            } else {
                histogramShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "visible"

                document.getElementById("histogram-btn").classList.remove("active-btn")
                document.getElementById("scatterplot-btn").classList.add("active-btn")
            }
        } else if (page === "line") {
            if (lineShow.style.visibility === "hidden") {
                lineShow.style.visibility = "visible"

                histogramShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "hidden"
                choroplethShow.style.visibility = "hidden"

                document.getElementById("line-btn").classList.add("active-btn")
                document.getElementById("histogram-btn").classList.remove("active-btn")
                document.getElementById("scatterplot-btn").classList.remove("active-btn")
                document.getElementById("choropleth-btn").classList.remove("active-btn")
            } else {
                lineShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "visible"

                document.getElementById("scatterplot-btn").classList.add("active-btn")
                document.getElementById("line-btn").classList.remove("active-btn")
            }
        } else if (page === "choropleth") {
            if(choroplethShow.style.visibility === "hidden"){
                histogramShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "hidden"
                lineShow.style.visibility = "hidden"

                choroplethShow.style.visibility = "visible"

                document.getElementById("choropleth-btn").classList.add("active-btn")
                document.getElementById("histogram-btn").classList.remove("active-btn")
                document.getElementById("scatterplot-btn").classList.remove("active-btn")
                document.getElementById("line-btn").classList.remove("active-btn")
            } else {
                choroplethShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "visible"

                document.getElementById("scatterplot-btn").classList.add("active-btn")
                document.getElementById("choropleth-btn").classList.remove("active-btn")
            }
        }
        else {
            if (scatterplotShow.style.visibility === "hidden") {
                scatterplotShow.style.visibility = "visible"

                histogramShow.style.visibility = "hidden"
                lineShow.style.visibility = "hidden"
                choroplethShow.style.visibility = "hidden"

                document.getElementById("scatterplot-btn").classList.add("active-btn")
                document.getElementById("histogram-btn").classList.remove("active-btn")
                document.getElementById("choropleth-btn").classList.remove("active-btn")
                document.getElementById("line-btn").classList.remove("active-btn")
            } else {
                scatterplotShow.style.visibility = "hidden"
                scatterplotShow.style.visibility = "visible"

                document.getElementById("scatterplot-btn").classList.add("active-btn")
            }
        }
    }
</script>

<style>
    	*, *::before, *::after {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  font-family: sans-serif;
  color: black;
}
    button {
        padding: 10px 20px 10px 20px;
        margin: 10px;
        border-radius: 10px;
        border: transparent;
        font-size: 20px;
        background-color: lightgray
    }

    button:hover {
        background-color: gray;
        color: white
    }

    .active-btn {
        background-color: #666699;
        color: white
    }

    .active-btn:hover {
        background-color: #D2CFFF;
        color: black;
    }

    .graph-view {
        position: absolute;
        top: 100px;
        width: 100%;
        text-align: center;
    }

    .scrollbox {
        height: 350px;
        overflow-y: auto;
        border: 1px solid #ccc;
        padding: 10px;
        width: 200px;
        text-align: left;
    }

    /* Tooltip */
    #tooltip {
        position: absolute;
        display: none;
        background: #fff;
        box-shadow: 3px 3px 3px 0px rgb(92 92 92 / 0.5);
        border: 1px solid #ddd;
        border-radius: 5px;
        font-size: 14px;
        font-weight: 500;
        padding: 10px;
        color: #333;
    }

    .tooltip-title {
        color: #000;
        font-size: 16px;
        font-weight: 600;
        padding-bottom: 10px
    }

    #tooltip ul {
        margin: 5px 0 0 0;
        padding-left: 20px;
    }

    .year-drowpdown {
        padding: 16px;
        width: 50px
    }

    .dropdown-label {
        font-size: 16px
    }

    .country-checkbox {
        padding-top: 5px;

    }

    .country-label {
        padding-left: 5px
    }
</style>
